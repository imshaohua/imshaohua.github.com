<?xml version="1.0"?>
<rss version="2.0">  <channel>
    <title>I&#39;m Shaohua</title>
    <link>http://imshaohua.github.com</link>
    <pubDate>08 Mar 16 12:59 +0800</pubDate>
    <item>
      <title>Pantower-PM25-Sensor</title>
      <link>http://imshaohua.github.com/Blog/Pantower-PM25-Sensor/</link>
      <pubDate>2016-03-08 12:00:00 +0800</pubDate>
      <description>&lt;h1&gt;&lt;a style=&#34;display: block;&#34; name=&#34;aqi&#34; href=&#34;#aqi&#34;&gt;&lt;/a&gt;AQI&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;杭城的空气每况日下，同时也想看看一些有机气体的指数，首当其冲就是甲醛，看了下国内外的传感器，发现Pantower有款传感器支持甲醛整合的，于是马云家入手了一个（型号是PMS5003S，不带S的比较多，带S就直接添加了甲醛传感器）&lt;/p&gt;&#xA;&#xA;&lt;p&gt;在玩的过程中遇到了一些问题，记录下&lt;/p&gt;&#xA;&#xA;&lt;h1&gt;&lt;a style=&#34;display: block;&#34; name=&#34;上传和显示数据串口冲突&#34; href=&#34;#上传和显示数据串口冲突&#34;&gt;&lt;/a&gt;上传和显示数据串口冲突&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;接上Arduino uno，通过I2C链接LCD1602（手头只有这个，暂时只好先用这个显示数据），由于PMS5003S的数据都是串口输出，通过查看Spec，数据包每帧都是32个字节，而uno上只有一个RX接口，因此必须在编译上传时拔掉接线。当然也有其他的办法：譬如用软串口，参考一下SoftwareSerial；譬如换块mega的板子。&lt;/p&gt;&#xA;&#xA;&lt;h1&gt;&lt;a style=&#34;display: block;&#34; name=&#34;i2c和串口冲突&#34; href=&#34;#i2c和串口冲突&#34;&gt;&lt;/a&gt;I2C和串口冲突&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;在使用串口读数据和使用i2c设置lcd显示的时候，在同一个loop里面全都执行了，导致串口读数据丢失，害得我查了一整天，后来直接打印串口数据，才找到这个问题。&#xA;PMS5003S串口的数据示例：&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;1:66|2:77|3:0|4:28|5:0|6:38|7:0|8:53|9:0|10:61|11:0|12:29|13:0|14:42|15:0|&#xA;16:54|17:24|18:177|19:6|20:242|21:1|22:15|23:0|24:20|25:0|26:4|27:0|28:2|29:0|30:4|31:3|32:175|&#xA;1:66|2:77|3:0|4:28|5:0|6:38|7:0|8:52|9:0|10:59|11:0|12:29|13:0|14:41|15:0|&#xA;16:53|17:23|18:175|19:6|20:195|21:1|22:10|23:0|24:16|25:0|26:2|27:0|28:2|29:0|30:4|31:3|32:109|&#xA;1:66|2:77|3:0|4:28|5:0|6:36|7:0|8:52|9:0|10:62|11:0|12:28|13:0|14:41|15:0|&#xA;16:54|17:23|18:67|19:6|20:167|21:1|22:21|23:0|24:22|25:0|26:4|27:0|28:2|29:0|30:4|31:2|32:249|&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;主要解决办法就是i2c设置lcd显示，让它一秒执行一次，不要每个loop都执行（新手原因^_^）&lt;/p&gt;&#xA;&#xA;&lt;h1&gt;&lt;a style=&#34;display: block;&#34; name=&#34;实现代码&#34; href=&#34;#实现代码&#34;&gt;&lt;/a&gt;实现代码&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;新建一个arduino工程，拷进去：（使用了LiquidCrystal_I2C库）&#xA;&lt;pre&gt;&lt;code&gt;&#xA;#include &amp;lt;Wire.h&amp;gt;&#xA;#include &amp;lt;LiquidCrystal_I2C.h&amp;gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;LiquidCrystal_I2C lcd(0x27, 16, 2);&#xA;#define receiveDatIndex 24&lt;/p&gt;&#xA;&#xA;&lt;p&gt;uint8_t receiveDat[receiveDatIndex]; //receive data from the air detector module&lt;/p&gt;&#xA;&#xA;&lt;p&gt;void setup() {&#xA;  Serial.begin(9600);&#xA;  // put your setup code here, to run once:&#xA;  lcd.begin();&#xA;  lcd.backlight();&#xA;  lcd.setCursor(0,0);&#xA;  lcd.print(&amp;ldquo;for JOJO~&amp;ldquo;);&#xA;  lcd.setCursor(0,1);&#xA;}&lt;/p&gt;&#xA;&#xA;&lt;p&gt;int i = 0;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;static unsigned char ucRxBuffer[250];&#xA;static unsigned char ucRxCnt = 0;&#xA;long _P25;&#xA;long _P10;&#xA;long _P100;&#xA;float _HCHO;&#xA;long _length;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;//read data for pantower sensor including HCHO&#xA;void getPM25(unsigned char ucData) {&#xA;  ucRxBuffer[ucRxCnt++] = ucData;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;if (ucRxBuffer[0] != 0x42 &amp;amp;&amp;amp; ucRxBuffer[1] != 0x4D)  {&#xA;ucRxCnt = 0;&#xA;  }&lt;/p&gt;&#xA;&#xA;&lt;p&gt;//for debug data&#xA;  Serial.print(ucRxCnt);&#xA;  Serial.print(&amp;rdquo;:&amp;ldquo;);&#xA;  Serial.print(ucData);&#xA;  Serial.print(&amp;ldquo;|&amp;rdquo;);&#xA;  if (ucRxCnt &amp;gt; 31) {&#xA;//usa standard&#xA;//_P10 = (float)ucRxBuffer[4] * 256 + (float)ucRxBuffer[5];&#xA;//_P25 = (float)ucRxBuffer[6] * 256 + (float)ucRxBuffer[7];&#xA;//_P100 = (float)ucRxBuffer[8] * 256 + (float)ucRxBuffer[9];&#xA;//china standard&#xA;_P10 = (float)ucRxBuffer[10] * 256 + (float)ucRxBuffer[11];&#xA;_P25 = (float)ucRxBuffer[12] * 256 + (float)ucRxBuffer[13];&#xA;_P100 = (float)ucRxBuffer[14] * 256 + (float)ucRxBuffer[15];&#xA;_HCHO = ((float)ucRxBuffer[28] * 256 + (float)ucRxBuffer[29])/1000;&#xA;Serial.println();&#xA;ucRxCnt = 0;&#xA;  }&#xA;}&lt;/p&gt;&#xA;&#xA;&lt;p&gt;void readValue() {&#xA;unsigned int length = Serial.available();&#xA;if (length &amp;gt; 0)&lt;br /&gt;&#xA;{&#xA;getPM25(Serial.read());&#xA;}&#xA;}&lt;/p&gt;&#xA;&#xA;&lt;p&gt;void loop() {&#xA;// put your main code here, to run repeatedly:&#xA;readValue();&#xA;delay(3);&#xA;static unsigned long OledTimer=millis();   //every 0.5s update the temperature and humidity from DHT11 sensor&#xA;if (millis() - OledTimer &amp;gt;=1000)&#xA;{&#xA;  //if at every loop,print data to LCD, it will be conflict for I2C and serial&#xA;  // Print a message to the LCD.&#xA;  OledTimer=millis();&#xA;  lcd.setCursor(0,0);&#xA;  lcd.print(&amp;ldquo;PM2.5=&amp;rdquo;);&#xA;  lcd.print(_P25);&#xA;  lcd.print(&amp;ldquo;ug/m3 &amp;ldquo;);&#xA;  lcd.setCursor(0,1);&#xA;  //lcd.clear();&#xA;  lcd.print(&amp;ldquo;HCHO=&amp;rdquo;);&#xA;  lcd.print(_HCHO);&#xA;  lcd.print(&amp;ldquo;mg/m3&amp;rdquo;);&#xA;}&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>Raspberry Pi notes</title>
      <link>http://imshaohua.github.com/2016/raspberry-pi-notes.html</link>
      <pubDate>2016-01-15 12:00:00 +0800</pubDate>
      <description>&lt;p&gt;最近又入手了一个Raspberry Pi2，大致使用记录一下&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;安装raspbian&#34; href=&#34;#安装raspbian&#34;&gt;&lt;/a&gt;安装Raspbian&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;直接到官网下载img &lt;a href=&#34;http://www.raspberrypi.org/downloads&#34;&gt;http://www.raspberrypi.org/downloads &lt;/a&gt;&#xA;windows通过win32 disk imager来写入tf卡或者sd卡（raspberry pi B+为SD卡）&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;配置raspberry-pi&#34; href=&#34;#配置raspberry-pi&#34;&gt;&lt;/a&gt;配置Raspberry Pi&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;通过&lt;strong&gt;raspi-config&lt;/strong&gt;来配置，可以expeand filesystem，或者修改启动类型，或者地区，或者修改密码。当然这些也都可以通过命令行来解决。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;更换sources&#34; href=&#34;#更换sources&#34;&gt;&lt;/a&gt;更换sources&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;由于没有更换软件源，导致下载略慢，改用国内镜像，那速度杠杠滴。&#xA;官网有镜像地址列表: &lt;a href=&#34;http://www.raspbian.org/RaspbianMirrors&#34;&gt;http://www.raspbian.org/RaspbianMirrors&lt;/a&gt;, 这里就选母校的mirror吧&#xA;&lt;a href=&#34;http://mirrors.zju.edu.cn/raspbian/raspbian/&#34;&gt;http://mirrors.zju.edu.cn/raspbian/raspbian/&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;那就用工具来修改/etc/apt/sources.list&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;sudo vi /etc/apt/sources.list&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;保存好之后，需要执行&lt;code&gt;sudo apt-get update&lt;/code&gt;来更新软件列表。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;ip怎么获取&#34; href=&#34;#ip怎么获取&#34;&gt;&lt;/a&gt;IP怎么获取&lt;/h2&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;通过路由器获取ip（得有权限，如果是智能路由器，可以app上直接查）&lt;/li&gt;&#xA;&lt;li&gt;可以通过脚本把ip发到邮件，每次启动就收到ip的邮件；&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;http://www.tuicool.com/articles/2AvIn2&#34;&gt;树莓派Raspbian开机自动发ip邮件的解决方案&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;http://shumeipai.nxez.com/2014/03/18/let-raspberry-pi-ip-address-is-automatically-reported-to-the-mailbox.html&#34;&gt;让树莓派自动上报IP地址到邮箱&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;http://www.opstool.com/article/299&#34;&gt;自动发送本机ip到指定邮箱&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;通过arp scan来查局域网内的设备信息（公司里面查找就略麻烦）&#xA;&lt;a href=&#34;http://blog.remibergsma.com/2013/05/03/howto-discover-the-ip-address-of-a-raspberry-pi-on-dhcp/&#34;&gt;HOWTO discover the ip address of a Raspberry Pi&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;登录raspberry-pi&#34; href=&#34;#登录raspberry-pi&#34;&gt;&lt;/a&gt;登录Raspberry Pi&lt;/h2&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;默认账号为 pi/raspberry&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Enjoy it~&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>XX-Net-Agent 代理用法，替代了goagent</title>
      <link>http://imshaohua.github.com/2016/xx-net-agent.html</link>
      <pubDate>2016-01-05 12:00:00 +0800</pubDate>
      <description>&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;接力goagent&#34; href=&#34;#接力goagent&#34;&gt;&lt;/a&gt;接力GoAgent&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/XX-net/XX-Net&#34;&gt;XX-Net Anti-censor tools&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;使用方法&#34; href=&#34;#使用方法&#34;&gt;&lt;/a&gt;使用方法&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;XX-Net-Agent 代理，替代了goagent &lt;a href=&#34;https://github.com/XX-net/XX-Net/wiki/%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95&#34;&gt;XX-Net 使用方法&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;创建gae&#34; href=&#34;#创建gae&#34;&gt;&lt;/a&gt;创建GAE&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;如果仅仅是看看新闻，翻翻墙，上上facebook，逛逛twitter，那就skip吧&lt;/p&gt;&#xA;&#xA;&lt;p&gt;如果需要看视频或者下载文件，必须用自己google agent的appids.&lt;br /&gt;&#xA;&lt;a href=&#34;https://github.com/XX-net/XX-Net/wiki/how-to-create-my-appids&#34;&gt;how to create my appids&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;a style=&#34;display: block;&#34; name=&#34;创建gae的注意事项&#34; href=&#34;#创建gae的注意事项&#34;&gt;&lt;/a&gt;创建GAE的注意事项&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;google账号需要开通验证服务：&lt;a href=&#34;https://www.google.com/landing/2step/&#34;&gt;Google&amp;rsquo;s two-step verification page&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;h3&gt;参考下面的链接：&lt;/h3&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;http://www.cnet.com/how-to/how-to-set-up-googles-two-step-verification/&#34;&gt;How to set up Google&amp;rsquo;s two-step verification&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;为了安全起见，建议设置&lt;a href=&#34;https://security.google.com/settings/security/apppasswords&#34;&gt;专用的密码&lt;/a&gt;&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>在项目的日子里</title>
      <link>http://imshaohua.github.com/2013/days-in-project.html</link>
      <pubDate>2013-08-23 12:00:00 +0800</pubDate>
      <description>&lt;h1&gt;&lt;a style=&#34;display: block;&#34; name=&#34;卖到项目组干活&#34; href=&#34;#卖到项目组干活&#34;&gt;&lt;/a&gt;卖到项目组干活&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;大概在 20130808-20130912 被转手卖到另外一个热门项目里，是公司的明星项目。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;感觉就是每天都加班到很晚，开会一大帮人，系分测分评审一大帮人。至于为什么这么多人希望这样，不知道，也许是想向老大表现，更好的晋升，拿到高KPI吧~&lt;/p&gt;&#xA;&#xA;&lt;p&gt;至于我，仅仅希望早点回家&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>你的第一篇博客</title>
      <link>http://imshaohua.github.com/2012/new-born.html</link>
      <pubDate>2012-12-22 12:00:00 +0800</pubDate>
      <description>&lt;h1&gt;感谢你使用Gor编写博客&lt;/h1&gt;&#xA;&#xA;&lt;h2&gt;本文位于 posts/first-blog.md , 你可以任何删掉,修改这个文件&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;文件开头是当前文章的元数据&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;date为自动生成, 当然,你可以修改,这是你的自由&lt;/li&gt;&#xA;&lt;li&gt;permalink 可以是固定地址,也可以由gor为你自动生成&lt;/li&gt;&#xA;&lt;li&gt;categories 就是分类, 可以多个&lt;/li&gt;&#xA;&lt;li&gt;tags 同理,多个标签也是很常见的&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;请确保文件使用UTF8 without BOM编码&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;你可以通过执行下面的语句来新建一篇博客:&lt;/h2&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;gor post 文章标题&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;h2&gt;编译你的博客,并预览之&lt;/h2&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;gor compile #编译&#xA;gor http&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;然后打开你的浏览器,访问 &lt;a href=&#34;http://127.0.0.1:8080&#34;&gt;http://127.0.0.1:8080&lt;/a&gt; 来预览&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;你将使用Markdown来编写博客&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;http://wowubuntu.com/markdown/&#34;&gt;Markdown 语法中文版&lt;/a&gt; 能让你快速入门其语法&lt;/p&gt;&#xA;&#xA;&lt;p&gt;相信&lt;a href=&#34;http://markdownpad.com&#34;&gt;MarkdownPad&lt;/a&gt;或&lt;a href=&#34;http://code.google.com/p/liteide/&#34;&gt;liteide&lt;/a&gt;会是你的编写博客的好帮手&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;如果你打算部署到github的pages上&lt;/h2&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;申请github帐户&lt;/li&gt;&#xA;&lt;li&gt;新建一个库 username.github.com 即你的用户名命名的地址&lt;/li&gt;&#xA;&lt;li&gt;将compiled目录,作为根路径,提交上去github.com上&lt;/li&gt;&#xA;&lt;li&gt;稍等几分钟, 你即可通过 &lt;a href=&#34;http://username.github.com&#34;&gt;http://username.github.com&lt;/a&gt; 访问到&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;h2&gt;附上git教程 &lt;a href=&#34;http://gitbook.liuhui998.com/&#34;&gt;GitBook中文版&lt;/a&gt;&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;一般来说,你只需要几个简单的git命令就足以应付大部分需求(仅示例)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;git clone git://github.com/wendal/wendal.net.git&#xA;git add -A&#xA;git commit -m &amp;quot;...&amp;quot;&#xA;git pull&#xA;git push&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;h2&gt;用gor编写博客将会是一件很开心的事,如果有任何意见或建议,欢迎到 &lt;a href=&#34;http://github.com/wendal/gor&#34;&gt;gor的官网&lt;/a&gt; 提交issue&lt;/h2&gt;&#xA;&#xA;&lt;h1&gt;祝你使用愉快&lt;/h1&gt;&#xA;</description>
    </item>
  </channel>
</rss>